#!/usr/bin/env python3
"""
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–∫–ª—è—Ç–∏–π –ë–∞–ª–æ—Ä–∞
"""

import random

# ===================== –°–ò–°–¢–ï–ú–ê –£–†–û–í–ù–ï–ô –ü–†–û–ö–õ–Ø–¢–ò–ô =====================
CURSE_SYSTEM = {
    "TIERS": {
        "COMMON": {
            "emoji": "‚ö™",
            "weight": 50,
            "duration": "24 —á–∞—Å–∞",
            "protection_chance": 70,
            "description": "–õ—ë–≥–∫–∏–µ –±—ã—Ç–æ–≤—ã–µ –ø—Ä–æ–∫–ª—è—Ç–∏—è"
        },
        "RARE": {
            "emoji": "üîµ", 
            "weight": 30,
            "duration": "3 –¥–Ω—è",
            "protection_chance": 50,
            "description": "–ó–∞–º–µ—Ç–Ω—ã–µ –Ω–µ—É–¥–æ–±—Å—Ç–≤–∞"
        },
        "EPIC": {
            "emoji": "üü£",
            "weight": 15,
            "duration": "1 –Ω–µ–¥–µ–ª—è",
            "protection_chance": 30,
            "description": "–°–µ—Ä—å—ë–∑–Ω—ã–µ –ø–æ–º–µ—Ö–∏"
        },
        "LEGENDARY": {
            "emoji": "üü°",
            "weight": 4,
            "duration": "–î–æ –ø–æ–ª–Ω–æ–ª—É–Ω–∏—è",
            "protection_chance": 15,
            "description": "–°–∏–ª—å–Ω—ã–µ –∞–Ω–æ–º–∞–ª–∏–∏"
        },
        "MYTHIC": {
            "emoji": "üëÅÔ∏è",
            "weight": 1,
            "duration": "–í–µ—á–Ω–æ—Å—Ç—å (–∏–ª–∏ –ø–æ–∫–∞ –Ω–µ —Å–Ω–∏–º–µ—à—å)",
            "protection_chance": 5,
            "description": "–ê–±—Å–æ–ª—é—Ç–Ω—ã–µ –ø—Ä–æ–∫–ª—è—Ç–∏—è"
        }
    },
    
    "CATEGORIES": {
        "household": "üè† –ë—ã—Ç–æ–≤—ã–µ",
        "tech": "üíª –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ",
        "psychological": "üß† –ü—Å–∏—Ö–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–µ",
        "temporal": "‚è∞ –í—Ä–µ–º–µ–Ω–Ω—ã–µ",
        "spatial": "üåå –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω—ã–µ",
        "food": "üçî –ü–∏—â–µ–≤—ã–µ",
        "social": "üë• –°–æ—Ü–∏–∞–ª—å–Ω—ã–µ",
        "mystical": "üîÆ –ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ"
    }
}

# ===================== –ë–ê–ó–ê –ü–†–û–ö–õ–Ø–¢–ò–ô =====================
CURSES_DATABASE = {
    "COMMON": [
        {"text": "–ü—É—Å—Ç—å —á–∞–π –æ—Å—Ç—ã–≤–∞–µ—Ç –Ω–∞ 30 —Å–µ–∫—É–Ω–¥ –±—ã—Å—Ç—Ä–µ–µ!", "category": "food", "emoji": "‚òï"},
        {"text": "–•–ª–µ–± –±—É–¥–µ—Ç —á–µ—Ä—Å—Ç–≤–µ—Ç—å –∑–∞ 3 —á–∞—Å–∞ –≤–º–µ—Å—Ç–æ 6!", "category": "food", "emoji": "üçû"},
        {"text": "–°–∞—Ö–∞—Ä –≤ —Å–∞—Ö–∞—Ä–Ω–∏—Ü–µ –±—É–¥–µ—Ç —Å–±–∏–≤–∞—Ç—å—Å—è –≤ –∫–æ–º–∫–∏!", "category": "household", "emoji": "üßÇ"},
        {"text": "–ü—É–≥–æ–≤–∏—Ü—ã –Ω–∞ —Ä—É–±–∞—à–∫–µ –±—É–¥—É—Ç —Ä–∞—Å—Å—Ç—ë–≥–∏–≤–∞—Ç—å—Å—è —Å–∞–º–∏!", "category": "household", "emoji": "üëî"},
        {"text": "Wi-Fi –±—É–¥–µ—Ç —Ç–µ—Ä—è—Ç—å –ø–∞–∫–µ—Ç—ã –≤ –æ–Ω–ª–∞–π–Ω-–∏–≥—Ä–∞—Ö!", "category": "tech", "emoji": "üéÆ"},
        {"text": "–ê–≤—Ç–æ–∫–æ—Ä—Ä–µ–∫—Ü–∏—è –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç '–ø—Ä–∏–≤–µ—Ç' –≤ '–ø—Ä–∏–≤–µ–¥–µ–Ω–∏–µ'!", "category": "tech", "emoji": "üì±"},
        {"text": "–ú—ã—à—å –±—É–¥–µ—Ç –¥–≤–æ–π–Ω—ã–º –∫–ª–∏–∫–∞—Ç—å —Ä–∞–∑ –≤ —á–∞—Å!", "category": "tech", "emoji": "üñ±Ô∏è"},
        {"text": "–ó–∞—Ä—è–¥–∫–∞ –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –Ω–µ—ë!", "category": "tech", "emoji": "üîå"},
        {"text": "–ù–æ—Å–∫–∏ –±—É–¥—É—Ç —Å–ø–æ–ª–∑–∞—Ç—å –≤ –æ–±—É–≤–∏!", "category": "household", "emoji": "üß¶"},
        {"text": "–ú–æ–ª–Ω–∏—è –Ω–∞ –∫—É—Ä—Ç–∫–µ –±—É–¥–µ—Ç –∑–∞–µ–¥–∞—Ç—å —Å 3 —Ä–∞–∑–∞!", "category": "household", "emoji": "üß•"},
    ],
    
    "RARE": [
        {"text": "–ë—É–¥–∏–ª—å–Ω–∏–∫ –±—É–¥–µ—Ç –∑–≤–æ–Ω–∏—Ç—å –Ω–∞ 9 –º–∏–Ω—É—Ç —Ä–∞–Ω—å—à–µ!", "category": "temporal", "emoji": "‚è∞"},
        {"text": "–ß–∞—Å—ã –±—É–¥—É—Ç –æ—Ç—Å—Ç–∞–≤–∞—Ç—å –Ω–∞ —Ä–æ–≤–Ω–æ 5 –º–∏–Ω—É—Ç –≤ –Ω–µ–¥–µ–ª—é!", "category": "temporal", "emoji": "üïê"},
        {"text": "–í—Ä–µ–º—è –≤ –æ—á–µ—Ä–µ–¥–∏ –±—É–¥–µ—Ç –∏–¥—Ç–∏ –≤ 2 —Ä–∞–∑–∞ –º–µ–¥–ª–µ–Ω–Ω–µ–µ!", "category": "temporal", "emoji": "‚è≥"},
        {"text": "–¢–µ–ª–µ—Ñ–æ–Ω —Ä–∞–∑—Ä—è–¥–∏—Ç—Å—è –ø—Ä–∏ 15% –≤–º–µ—Å—Ç–æ 1%!", "category": "tech", "emoji": "üì±"},
        {"text": "–ù–æ—É—Ç–±—É–∫ –∑–∞–≤–∏—Å–Ω–µ—Ç –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –≤–∞–∂–Ω–æ–≥–æ —Ñ–∞–π–ª–∞!", "category": "tech", "emoji": "üíª"},
        {"text": "–§–ª–µ—à–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—Å—è —Å–æ 2-–π –ø–æ–ø—ã—Ç–∫–∏!", "category": "tech", "emoji": "üíæ"},
        {"text": "–ê–≤—Ç–æ–±—É—Å —É–µ–¥–µ—Ç –∑–∞ 10 —Å–µ–∫—É–Ω–¥ –¥–æ —Ç–≤–æ–µ–≥–æ –ø—Ä–∏—Ö–æ–¥–∞!", "category": "social", "emoji": "üöå"},
        {"text": "–°–≤–µ—Ç–æ—Ñ–æ—Ä –≤—Å–µ–≥–¥–∞ –∫—Ä–∞—Å–Ω—ã–π –∏–º–µ–Ω–Ω–æ –¥–ª—è —Ç–µ–±—è!", "category": "social", "emoji": "üö¶"},
        {"text": "–ó–∞–±—É–¥–µ—à—å –∏–º—è —á–µ–ª–æ–≤–µ–∫–∞ —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–∞!", "category": "psychological", "emoji": "üëã"},
        {"text": "–û–ø–æ–∑–¥–∞–µ—à—å —Ä–æ–≤–Ω–æ –Ω–∞ —Ç—É –º–∏–Ω—É—Ç—É, –∫–æ–≥–¥–∞ –≤—Å–µ –Ω–∞—á–∞–ª–∏ –µ—Å—Ç—å!", "category": "social", "emoji": "üçΩÔ∏è"},
    ],
    
    "EPIC": [
        {"text": "–ü–µ—Å–Ω—è –∏–∑ —Ä–µ–∫–ª–∞–º—ã –∑–∞—Å—Ç—Ä—è–Ω–µ—Ç –≤ –≥–æ–ª–æ–≤–µ –Ω–∞ 3 –¥–Ω—è!", "category": "psychological", "emoji": "üéµ"},
        {"text": "–ë—É–¥–µ—à—å –≤–∏–¥–µ—Ç—å –ª–∏—Ü–æ –Ω–∞ –Ω–µ–æ–¥—É—à–µ–≤–ª—ë–Ω–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–∞—Ö!", "category": "psychological", "emoji": "üò∂"},
        {"text": "–ó–∞–±—É–¥–µ—à—å —Å–ª–æ–≤–æ '–∫–∞–∫ –µ–≥–æ —Ç–∞–º' –Ω–∞ –Ω–µ–¥–µ–ª—é!", "category": "psychological", "emoji": "ü§î"},
        {"text": "–õ–µ—Å—Ç–Ω–∏—Ü–∞ –±—É–¥–µ—Ç –∏–º–µ—Ç—å –Ω–∞ 1 —Å—Ç—É–ø–µ–Ω—å–∫—É –±–æ–ª—å—à–µ!", "category": "spatial", "emoji": "ü™ú"},
        {"text": "–î–≤–µ—Ä–Ω—ã–µ –ø—Ä–æ—ë–º—ã –±—É–¥—É—Ç –Ω–∞ 2 —Å–º —É–∂–µ –¥–ª—è —Ç–µ–±—è!", "category": "spatial", "emoji": "üö™"},
        {"text": "–¢–≤–æ—è —Ç–µ–Ω—å –±—É–¥–µ—Ç –æ—Ç—Å—Ç–∞–≤–∞—Ç—å –Ω–∞ –ø–æ–ª—à–∞–≥–∞!", "category": "mystical", "emoji": "üë§"},
        {"text": "–û—Ç—Ä–∞–∂–µ–Ω–∏–µ –≤ –ª—É–∂–µ –±—É–¥–µ—Ç –ø–æ–¥–º–∏–≥–∏–≤–∞—Ç—å!", "category": "mystical", "emoji": "üåä"},
        {"text": "–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω—ã–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –±—É–¥—É—Ç —Ä–∞–∑—Ä—è–∂–∞—Ç—å—Å—è —Ä—è–¥–æ–º —Å —Ç–æ–±–æ–π –Ω–∞ 10% –±—ã—Å—Ç—Ä–µ–µ!", "category": "tech", "emoji": "üîã"},
        {"text": "Wi-Fi —Å–∏–≥–Ω–∞–ª –±—É–¥–µ—Ç —Å–ª–∞–±–µ—Ç—å, –∫–æ–≥–¥–∞ —Ç—ã –ø–æ–¥—Ö–æ–¥–∏—à—å –∫ —Ä–æ—É—Ç–µ—Ä—É!", "category": "tech", "emoji": "üì∂"},
        {"text": "–ù–∞—É—à–Ω–∏–∫–∏ –±—É–¥—É—Ç –∏–≥—Ä–∞—Ç—å —Ç–∏—à–µ –ø—Ä–∏ –ª—é–±–∏–º–æ–π –ø–µ—Å–Ω–µ!", "category": "tech", "emoji": "üéß"},
    ],
    
    "LEGENDARY": [
        {"text": "–í—Ä–µ–º—è –≤ –¥—É—à–µ –±—É–¥–µ—Ç –∏–¥—Ç–∏ –≤ 3 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ!", "category": "temporal", "emoji": "üöø"},
        {"text": "–†–∞–±–æ—á–∏–π –¥–µ–Ω—å –ø—Ä–æ–¥–ª–∏—Ç—Å—è –Ω–∞ 47 –º–∏–Ω—É—Ç –¥–æ–ª—å—à–µ!", "category": "temporal", "emoji": "‚è∞"},
        {"text": "–í—ã—Ö–æ–¥–Ω—ã–µ –ø—Ä–æ–ª–µ—Ç—è—Ç –≤ 2 —Ä–∞–∑–∞ –±—ã—Å—Ç—Ä–µ–µ –Ω–µ–¥–µ–ª–∏!", "category": "temporal", "emoji": "üéâ"},
        {"text": "–õ–µ—Å—Ç–Ω–∏—Ü–∞ —ç—Å–∫–∞–ª–∞—Ç–æ—Ä–∞ –±—É–¥–µ—Ç –∏–¥—Ç–∏ –Ω–µ –≤ —Ç–∞–∫—Ç!", "category": "spatial", "emoji": "ü™ú"},
        {"text": "–õ–∏—Ñ—Ç –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–º —ç—Ç–∞–∂–µ!", "category": "spatial", "emoji": "üõó"},
        {"text": "–ü–∞—Ä–∫–æ–≤–æ—á–Ω–æ–µ –º–µ—Å—Ç–æ –æ—Å–≤–æ–±–æ–¥–∏—Ç—Å—è, –∫–æ–≥–¥–∞ —Ç—ã –ø—Ä–æ–µ–¥–µ—à—å!", "category": "spatial", "emoji": "üöó"},
        {"text": "–¢—ã –±—É–¥–µ—à—å —É–∑–Ω–∞–≤–∞—Ç—å –º–µ–ª–æ–¥–∏—é, –Ω–æ –Ω–µ –≤—Å–ø–æ–º–Ω–∏—à—å –Ω–∞–∑–≤–∞–Ω–∏–µ!", "category": "psychological", "emoji": "üé∂"},
        {"text": "–ò–º—è –∞–∫—Ç—ë—Ä–∞ –±—É–¥–µ—Ç '–≤–µ—Ä—Ç–µ—Ç—å—Å—è –Ω–∞ —è–∑—ã–∫–µ' 3 –¥–Ω—è!", "category": "psychological", "emoji": "üé¨"},
        {"text": "–¢—ã –±—É–¥–µ—à—å –ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è —Å —á—É–≤—Å—Ç–≤–æ–º, —á—Ç–æ –∑–∞–±—ã–ª —á—Ç–æ-—Ç–æ –≤–∞–∂–Ω–æ–µ!", "category": "psychological", "emoji": "üò∞"},
        {"text": "–≠–∫—Ä–∞–Ω —Ç–µ–ª–µ—Ñ–æ–Ω–∞ –±—É–¥–µ—Ç –±–ª–∏–∫–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–±—è!", "category": "tech", "emoji": "üì±"},
    ],
    
    "MYTHIC": [
        {"text": "–í—Ä–µ–º—è –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –¥–ª—è —Ç–µ–±—è –≤ –º–æ–º–µ–Ω—Ç –ø–µ—Ä–≤–æ–≥–æ –≥–ª–æ—Ç–∫–∞ –∫–æ—Ñ–µ!", "category": "temporal", "emoji": "‚è±Ô∏è"},
        {"text": "–¢–≤–æ—è —Ç–µ–Ω—å –æ–±—Ä–µ—Ç—ë—Ç —Å–∞–º–æ—Å—Ç–æ—è—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–æ –≤–æ—Å–∫—Ä–µ—Å–µ–Ω—å—è–º!", "category": "mystical", "emoji": "üë§"},
        {"text": "–ó–µ—Ä–∫–∞–ª–∞ –±—É–¥—É—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–±—è –Ω–∞ 5 –º–∏–Ω—É—Ç –≤ –±—É–¥—É—â–µ–º!", "category": "mystical", "emoji": "ü™û"},
        {"text": "–≠—Ö–æ –Ω–∞—á–Ω—ë—Ç –æ—Ç–≤–µ—á–∞—Ç—å —Ä–∞–Ω—å—à–µ, —á–µ–º —Ç—ã –∑–∞–∫–æ–Ω—á–∏—à—å —Ñ—Ä–∞–∑—É!", "category": "mystical", "emoji": "üó£Ô∏è"},
        {"text": "–ü—É–≥–æ–≤–∏—Ü–∞ –ª–∏—Ñ—Ç–∞ '13' –ø–æ—è–≤–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ–±—è!", "category": "spatial", "emoji": "üõó"},
        {"text": "–õ–µ—Å—Ç–Ω–∏—Ü–∞ –≤ –º–µ—Ç—Ä–æ –±—É–¥–µ—Ç –∏–º–µ—Ç—å 13-—é –Ω–µ–≤–∏–¥–∏–º—É—é —Å—Ç—É–ø–µ–Ω—å–∫—É!", "category": "spatial", "emoji": "üöá"},
        {"text": "–¢–≤–æ–π —Ç–µ–ª–µ—Ñ–æ–Ω –±—É–¥–µ—Ç –ª–æ–≤–∏—Ç—å —Å–µ—Ç—å —Ç–∞–º, –≥–¥–µ –µ—ë –Ω–µ—Ç!", "category": "tech", "emoji": "üì±"},
        {"text": "Wi-Fi –ø–∞—Ä–æ–ª—å –±—É–¥–µ—Ç –º–µ–Ω—è—Ç—å—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑, –∫–æ–≥–¥–∞ —Ç—ã –µ–≥–æ –≤–≤–æ–¥–∏—à—å!", "category": "tech", "emoji": "üîë"},
        {"text": "–¢–≤–æ–π –ª–µ–≤—ã–π –≥–ª–∞–∑ –Ω–∞—á–Ω—ë—Ç —Å–ª–µ–∑–∏—Ç—å—Å—è –≤ –ø–æ–ª–Ω–æ–ª—É–Ω–∏–µ!", "category": "mystical", "emoji": "üëÅÔ∏è"},
        {"text": "–í–∑–≥–ª—è–¥ –≤ —Ç–µ–º–Ω–æ—Ç–µ –±—É–¥–µ—Ç –æ—Ç—Å–≤–µ—á–∏–≤–∞—Ç—å –¥–µ–º–æ–Ω–∏—á–µ—Å–∫–∏–º –∫—Ä–∞—Å–Ω—ã–º!", "category": "mystical", "emoji": "üî¥"},
        {"text": "–¢–µ–Ω–∏ –Ω–∞—á–Ω—É—Ç —à–µ–ø—Ç–∞—Ç—å —Ç–µ–±–µ –∏–º–µ–Ω–∞ –∑–∞–±—ã—Ç—ã—Ö –¥–µ–º–æ–Ω–æ–≤!", "category": "mystical", "emoji": "üëπ"},
        {"text": "–î–µ–º–æ–Ω –±–µ–∑ –∏–º–µ–Ω–∏ –±—É–¥–µ—Ç —Å–ª–µ–¥–æ–≤–∞—Ç—å –∑–∞ —Ç–æ–±–æ–π –≤ –æ—Ç—Ä–∞–∂–µ–Ω–∏—è—Ö!", "category": "mystical", "emoji": "üòà"},
        {"text": "–ü—Ä–æ–∫–ª—è—Ç—ã–π –í–∑–≥–ª—è–¥ —É–≤–∏–¥–∏—Ç —Ç–≤–æ—é —Å—É–¥—å–±—É –≤ —É–∑–æ—Ä–µ –Ω–∞ –∫–æ—Ñ–µ!", "category": "mystical", "emoji": "üîÆ"},
        {"text": "–ü–µ—á–∞—Ç—å –ë–∞–ª–æ—Ä–∞ –ø—Ä–æ—è–≤–∏—Ç—Å—è –Ω–∞ –ª–µ–≤–æ–º –∑–∞–ø—è—Å—Ç—å–µ –≤ –Ω–æ–≤–æ–ª—É–Ω–∏–µ!", "category": "mystical", "emoji": "üé≠"},
        {"text": "–°–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –æ—Ç—Ä–∞–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ–¥–º–∏–≥–∏–≤–∞—Ç—å –≤—Ç–æ—Ä—ã–º –≥–ª–∞–∑–æ–º!", "category": "mystical", "emoji": "üòâ"},
    ]
}

# ===================== –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ï –§–£–ù–ö–¶–ò–ò =====================
def get_random_curse(tier: str = None):
    """–ü–æ–ª—É—á–∏—Ç—å —Å–ª—É—á–∞–π–Ω–æ–µ –ø—Ä–æ–∫–ª—è—Ç–∏–µ"""
    if tier and tier in CURSES_DATABASE:
        curse_data = random.choice(CURSES_DATABASE[tier])
        return {
            "text": curse_data["text"],
            "tier": tier,
            "category": curse_data["category"],
            "emoji": curse_data["emoji"],
            "system": CURSE_SYSTEM["TIERS"][tier]
        }
    
    # –ò–Ω–∞—á–µ —Å–ª—É—á–∞–π–Ω—ã–π —Ç–∏—Ä –ø–æ –≤–µ—Å–∞–º
    tiers = list(CURSE_SYSTEM["TIERS"].keys())
    weights = [CURSE_SYSTEM["TIERS"][t]["weight"] for t in tiers]
    selected_tier = random.choices(tiers, weights=weights, k=1)[0]
    
    curse_data = random.choice(CURSES_DATABASE[selected_tier])
    return {
        "text": curse_data["text"],
        "tier": selected_tier,
        "category": curse_data["category"],
        "emoji": curse_data["emoji"],
        "system": CURSE_SYSTEM["TIERS"][selected_tier]
    }

def get_curse_by_category(category: str):
    """–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–∫–ª—è—Ç–∏–µ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏"""
    all_curses = []
    for tier in CURSES_DATABASE:
        for curse in CURSES_DATABASE[tier]:
            if curse["category"] == category:
                all_curses.append({
                    **curse,
                    "tier": tier,
                    "system": CURSE_SYSTEM["TIERS"][tier]
                })
    
    if all_curses:
        return random.choice(all_curses)
    return None

def get_curses_statistics():
    """–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–∫–ª—è—Ç–∏–π"""
    stats = {
        "total_curses": 0,
        "by_tier": {},
        "by_category": {},
        "strongest_tier": "",
        "most_common_category": ""
    }
    
    for tier in CURSES_DATABASE:
        stats["by_tier"][tier] = len(CURSES_DATABASE[tier])
        stats["total_curses"] += len(CURSES_DATABASE[tier])
        
        for curse in CURSES_DATABASE[tier]:
            cat = curse["category"]
            stats["by_category"][cat] = stats["by_category"].get(cat, 0) + 1
    
    if stats["by_tier"]:
        stats["strongest_tier"] = max(stats["by_tier"].items(), key=lambda x: CURSE_SYSTEM["TIERS"][x[0]]["weight"])[0]
    
    if stats["by_category"]:
        stats["most_common_category"] = max(stats["by_category"].items(), key=lambda x: x[1])[0]
    
    return stats

def format_curse_display(curse_data: dict) -> str:
    """–§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–∫–ª—è—Ç–∏–µ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è"""
    tier_info = curse_data["system"]
    category_name = CURSE_SYSTEM["CATEGORIES"].get(curse_data["category"], curse_data["category"])
    
    return f"""
{tier_info['emoji']} <b>–ü–†–û–ö–õ–Ø–¢–ò–ï [{curse_data['tier']}]</b>
üîÆ <b>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</b> {category_name}
üìù <b>–û–ø–∏—Å–∞–Ω–∏–µ:</b> {curse_data['text']} {curse_data['emoji']}

‚ö° <b>–£—Ä–æ–≤–µ–Ω—å:</b> {curse_data['tier']}
‚è≥ <b>–î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:</b> {tier_info['duration']}
üõ°Ô∏è <b>–®–∞–Ω—Å –∑–∞—â–∏—Ç—ã:</b> {tier_info['protection_chance']}%
üìä <b>–í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å:</b> {tier_info['weight']}%

<code>–ò—Å–ø–æ–ª—å–∑—É–π /curse_protect –¥–ª—è –ø–æ–ø—ã—Ç–∫–∏ —Å–Ω—è—Ç—å</code>
"""
